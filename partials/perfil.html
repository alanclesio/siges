<div ng-show="!!usuarioLogado">
    <div class="page-title">
        <h2><i class="icon-desktop color"></i> Perfil
            <small>Preencha todas as informações</small>
        </h2>
        <hr>
    </div>
    <div class="awidget clearfix">
        <div class="awidget-head">
            <h3>Informações pessoais</h3>
        </div>
        <div class="awidget-body">
            <div class="row">
                <div class="col-md-3 col-sm-3">
                    <a href="http://www.gravatar.com/avatar/{{usuarioLogado.md5_hash}}?s=600"><img
                            ng-src="http://www.gravatar.com/avatar/{{usuarioLogado.md5_hash}}?s=250"
                            class="img-thumbnail img-circle img-responsive" alt=""></a>
                </div>
                <div class="col-md-9 col-sm-9">
                    <table class="table">

                        <tbody>
                        <tr>
                            <td><strong>Nome</strong></td>
                            <td>:</td>
                            <td style="word-wrap: break-word; width: 500px;">{{usuarioLogado.nome}}
                                {{usuarioLogado.sobrenome}}
                            </td>
                        </tr>
                        <tr>
                            <td><strong>E-mail</strong></td>
                            <td>:</td>
                            <td>{{usuarioLogado.email}} <span class="text-muted">(não pode ser alterado)</span></td>
                        </tr>
                        <tr>
                            <td><strong>Celular</strong></td>
                            <td>:</td>
                            <td>{{usuarioLogado.celular || "--"}}</td>
                        </tr>
                        <tr>
                            <td><strong>Sobre mim</strong></td>
                            <td>:</td>
                            <td ng-bind-html="usuarioLogado.sobre || '--' | quebralinha "></td>
                        </tr>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="awidget clearfix" style="margin-top: 10px;" ng-show="usuarioLogado.$id == $routeParams.$id">
        <div class="awidget-head">
            <h3>Editar informações pessoais</h3>
        </div>
        <div class="awidget-body">
            <form name="perfil">
                <div class="form-group" ng-class="{'has-error': perfil.nome.$invalid}">
                    <label class="control-label">Nome</label>
                    <input name="nome" type="text" class="form-control" placeholder="Nome"
                           ng-minlength="3" ng-maxlength="20" ng-model="usuarioLogado.nome" required>
                    <span ng-show="perfil.nome.$error.required"
                          class="help-block">Campo de preenchimento obrigatório.</span>
                    <span ng-show="perfil.nome.$error.minlength" class="help-block">Necessário fornecer ao menos três caracteres.</span>
                    <span ng-show="perfil.nome.$error.maxlength" class="help-block">Este campo está limitado a vinte caracteres.</span>
                </div>
                <div class="form-group" ng-class="{'has-error': perfil.sobrenome.$invalid}">
                    <label class="control-label">Sobrenome</label>
                    <input name="sobrenome" type="text" class="form-control" placeholder="Sobrenome"
                           ng-minlength="3" ng-maxlength="50" ng-model="usuarioLogado.sobrenome">
                    <span ng-show="perfil.sobrenome.$error.minlength" class="help-block">Necessário fornecer ao menos três caracteres.</span>
                    <span ng-show="perfil.sobrenome.$error.maxlength" class="help-block">Este campo está limitado a cinquenta caracteres.</span>
                </div>
                <div class="form-group" ng-class="{'has-error': perfil.celular.$invalid}">
                    <label class="control-label">Celular</label>
                    <input name="celular" type="text" class="form-control" ui-mask="(99) 9999-9999"
                           ng-model="usuarioLogado.celular">
                </div>
                <div class="form-group" ng-class="{'has-error': perfil.sobre.$invalid}">
                    <label class="control-label">Sobre mim</label>
                    <textarea name="sobre" class="form-control" rows="5" placeholder="Fale um pouco sobre você..."
                              ng-model="usuarioLogado.sobre"></textarea>
                </div>
                <div class="form-group pull-right">
                    <a href="#/" class="btn btn-default">Cancelar</a>
                    <button type="submit" class="btn btn-primary" ng-click="salvar()"
                            ng-disabled="perfil.$invalid || alterado()">Atualizar perfil
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
