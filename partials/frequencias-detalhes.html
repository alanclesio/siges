<div ng-show="usuarioLogado.admin">
    <div class="page-title">
        <h2><i class="icon-desktop color"></i> Frequência
            <small>Atribuição de presença aos usuários por turma</small>
        </h2>
        <hr>
    </div>
    <div class="awidget clearfix">
        <div class="awidget-body">
            <table class="table table-bordered table-hover table-condensed table-striped">
                <thead>
                <tr>
                    <th>Instituição</th>
                    <th>Disciplina</th>
                    <th>Turma</th>
                    <th>Data</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>{{ instituicao.nome }}</td>
                    <td>{{ disciplina.nome }}</td>
                    <td>{{ turma.nome }}</td>
                    <td><input type="date" ng-model="dataHora" style="width: 100%;"></td>
                </tr>
                </tbody>
            </table>
            <div class="col-sm-6 col-md-4" ng-repeat="usuario in usuarios" style="margin-bottom: 10px;" ng-if="usuario.turmaId == routeId">
                <div class="thumbnail">
                    <img ng-src="http://www.gravatar.com/avatar/{{usuario.md5_hash}}?s=80"
                         class="img-thumbnail img-circle img-responsive">

                    <div class="caption">
                        <h3 class="text-center" style="margin-top: 0" data-conteudo="#{{usuario.md5_hash}}" rel="popover" data-toggle="popover">{{ usuario.nome }}</h3>
                        <div id="{{usuario.md5_hash}}" class="hidden">
                            <div style="text-align: center">
                                <img ng-src="http://www.gravatar.com/avatar/{{usuario.md5_hash}}?s=80"
                                     class="img-thumbnail img-circle img-responsive" style="margin-top: 5px;">
                            </div>
                            <table class="table" style="margin-bottom: 0;">
                                <tbody>
                                <tr>
                                    <th colspan="2" style="text-align: center; border-top: 0px;">{{usuario.nome}}</th>
                                </tr>
                                <tr>
                                    <th>Sobrenome</th>
                                    <td>{{usuario.sobrenome | truncate:25}}</td>
                                </tr>
                                <tr>
                                    <th>E-mail</th>
                                    <td style="word-break:break-all;">{{usuario.email}}</td>
                                </tr>
                                <tr>
                                    <th>Celular</th>
                                    <td>{{usuario.celular}}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="row">
                            <div class="col-md-12 text-center">
                                <div class="btn-group">
                                    <label class="btn btn-default" ng-model="usuario.frequencias[dataHora].status"
                                           ng-class="{active:usuario.frequencias[dataHora].status == true}"
                                           ng-click="SetPresenca(usuario, true)">Presente</label>
                                    <label class="btn btn-default" ng-model="usuario.frequencias[dataHora].status"
                                           ng-class="{active:usuario.frequencias[dataHora].status == false}"
                                           ng-click="SetPresenca(usuario, false)">Ausente</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
